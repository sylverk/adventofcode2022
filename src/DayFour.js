
import './App.css';
import React from 'react';
import {buttonFactory} from './utility';

function dayFour(is_test, is_bonus){
    let input;
    if (is_test){
        input= "2-4,6-8\n2-3,4-5\n5-7,7-9\n2-8,3-7\n6-6,4-6\n2-6,4-8";
    } else {
        input = "38-41,38-38\n18-65,18-65\n1-3,4-39\n41-42,40-40\n1-90,89-90\n30-84,31-85\n2-98,64-97\n75-75,15-76\n81-81,22-81\n29-92,30-30\n95-95,14-95\n12-71,70-70\n12-93,13-99\n31-74,5-32\n5-45,2-44\n17-85,17-20\n75-96,81-99\n67-72,73-85\n77-84,76-81\n6-67,68-68\n41-87,87-89\n55-56,19-56\n1-98,24-97\n13-82,14-82\n2-99,1-99\n4-58,5-57\n20-67,66-66\n22-85,22-86\n41-97,40-40\n84-88,84-85\n12-34,23-69\n35-60,39-61\n16-28,12-27\n89-93,93-94\n52-92,53-91\n63-73,7-64\n3-54,2-54\n76-76,1-76\n10-17,16-83\n84-88,35-85\n23-25,24-63\n3-70,2-38\n21-64,65-65\n1-97,2-97\n11-37,36-93\n43-60,14-44\n15-16,15-52\n53-79,11-78\n2-96,97-98\n19-97,20-99\n33-92,32-92\n19-26,26-64\n66-87,58-66\n58-79,43-78\n88-98,89-98\n3-91,3-38\n47-47,47-93\n27-85,28-85\n1-46,2-47\n1-3,4-78\n26-52,36-51\n41-54,42-54\n35-99,1-34\n55-95,94-96\n18-46,45-54\n93-98,2-86\n5-90,57-99\n2-85,5-86\n13-86,13-86\n91-93,55-92\n41-72,40-86\n68-70,38-69\n3-4,3-97\n57-88,19-87\n44-84,3-45\n3-87,2-87\n2-88,89-89\n9-75,8-10\n33-46,17-32\n14-81,81-82\n19-89,20-89\n38-82,39-81\n3-85,3-97\n16-43,43-43\n10-10,11-90\n2-79,2-96\n19-60,61-86\n2-97,1-98\n11-22,11-12\n2-25,24-25\n21-89,22-90\n10-35,11-35\n33-35,32-35\n41-41,8-42\n4-74,2-3\n1-2,3-90\n60-91,59-92\n5-90,90-97\n95-96,2-96\n49-81,49-81\n9-37,21-57\n41-76,40-77\n93-93,3-93\n9-96,1-6\n9-53,54-95\n66-93,80-92\n32-32,32-34\n73-95,27-72\n47-88,46-46\n57-91,51-92\n78-78,78-81\n8-57,58-81\n5-49,14-18\n87-87,22-88\n3-66,67-67\n94-96,15-94\n3-70,3-70\n9-94,10-65\n11-59,58-59\n32-82,12-83\n44-89,43-89\n55-95,7-54\n5-18,19-49\n88-89,34-89\n1-84,84-84\n62-92,31-63\n93-95,30-88\n10-36,10-36\n32-91,90-92\n72-86,73-92\n54-70,5-70\n20-77,19-78\n14-27,28-86\n19-52,19-70\n5-98,6-94\n74-97,74-75\n23-42,23-23\n13-19,13-19\n21-31,30-31\n22-67,68-69\n18-69,19-76\n6-7,6-97\n3-19,4-20\n2-66,44-67\n39-77,40-84\n15-72,2-9\n81-90,90-93\n45-86,44-72\n21-57,45-58\n23-72,20-22\n10-63,36-62\n15-78,78-79\n59-90,59-90\n55-61,60-82\n75-97,61-97\n71-76,71-76\n62-62,13-61\n5-5,4-54\n74-75,15-74\n83-84,56-84\n25-41,24-42\n4-4,7-87\n19-84,26-83\n1-98,9-97\n7-30,29-29\n11-93,2-12\n71-76,77-77\n44-88,44-89\n1-17,16-37\n62-62,27-61\n11-77,11-77\n80-80,80-82\n90-90,31-90\n6-77,77-85\n30-31,31-93\n36-62,35-36\n69-91,11-90\n4-17,16-16\n5-71,33-96\n1-99,1-99\n83-83,57-82\n12-75,55-76\n41-41,8-40\n1-99,4-92\n30-31,31-57\n25-54,26-26\n7-14,67-78\n17-97,97-97\n10-49,21-50\n12-95,1-96\n90-99,1-98\n92-93,31-92\n15-16,15-48\n33-97,55-98\n29-92,29-83\n58-58,5-59\n23-80,79-86\n7-70,45-71\n5-21,5-20\n34-40,33-39\n41-92,40-99\n13-96,12-77\n28-63,27-64\n10-94,10-93\n25-82,82-82\n32-91,11-32\n16-97,15-96\n27-49,37-50\n23-85,10-84\n2-55,35-56\n98-99,20-93\n2-86,2-87\n12-41,5-11\n59-84,58-84\n20-62,75-89\n8-45,7-45\n25-32,33-44\n27-28,29-77\n2-67,66-67\n41-88,42-96\n40-40,4-40\n1-96,97-98\n42-95,41-93\n8-79,9-78\n7-89,9-25\n99-99,9-99\n88-91,82-87\n21-90,90-90\n53-94,93-99\n26-59,54-78\n30-99,34-89\n51-69,51-69\n7-98,1-97\n30-81,82-82\n16-93,18-89\n10-91,90-91\n2-7,8-50\n35-76,35-35\n49-96,95-97\n45-57,86-91\n7-56,61-65\n12-87,74-83\n92-92,17-92\n4-18,3-19\n36-78,23-37\n5-92,4-93\n4-93,8-92\n59-82,81-81\n18-88,19-88\n24-64,24-65\n28-91,5-90\n74-86,73-87\n20-35,19-31\n99-99,10-97\n9-10,10-70\n94-94,21-94\n27-37,37-94\n3-82,81-84\n55-80,49-54\n77-78,40-77\n16-48,15-48\n3-96,97-99\n32-97,96-96\n14-84,9-60\n17-91,16-16\n94-94,16-95\n12-61,6-61\n14-95,98-99\n63-64,59-64\n64-82,82-84\n4-99,3-62\n4-98,2-97\n85-99,27-84\n19-73,19-73\n35-64,10-93\n5-13,9-20\n8-40,41-76\n90-95,29-89\n24-97,21-22\n53-56,52-56\n21-59,58-59\n41-93,40-94\n2-86,2-85\n42-95,95-95\n37-89,6-89\n52-63,45-51\n9-89,21-88\n32-84,33-83\n11-17,18-90\n13-16,13-16\n97-97,2-97\n68-72,68-69\n18-23,18-48\n28-68,29-70\n11-94,93-96\n11-94,94-94\n97-98,2-98\n19-73,74-74\n40-60,59-60\n38-53,37-54\n10-15,16-74\n46-55,45-67\n19-54,20-53\n32-32,33-97\n20-86,12-19\n23-79,78-90\n12-53,23-52\n20-93,21-95\n3-49,14-50\n67-76,51-66\n1-35,36-62\n36-68,35-35\n12-81,21-82\n33-41,34-42\n13-65,32-64\n37-85,36-86\n6-50,31-50\n13-16,12-12\n36-50,36-50\n16-76,17-66\n71-71,54-71\n6-57,15-58\n3-5,6-52\n3-91,1-92\n69-96,45-68\n36-44,36-46\n21-61,20-50\n71-73,11-72\n7-97,8-90\n7-73,1-6\n39-45,39-46\n16-90,3-91\n25-29,26-28\n49-73,28-89\n95-97,14-96\n26-75,50-74\n70-84,70-92\n27-43,14-77\n34-42,43-43\n38-62,37-63\n73-78,15-78\n83-83,3-82\n16-17,17-91\n4-68,3-69\n8-80,9-79\n4-87,1-86\n2-30,2-30\n66-82,55-81\n78-78,79-86\n45-86,49-86\n2-6,5-98\n12-29,11-30\n48-52,53-53\n45-72,46-54\n82-82,48-81\n93-94,42-94\n1-84,2-98\n14-75,13-28\n19-19,20-91\n63-63,39-64\n2-59,58-60\n63-63,16-63\n2-98,3-99\n52-69,51-52\n16-61,16-62\n29-73,70-76\n41-86,2-94\n84-85,1-85\n13-89,12-89\n7-21,23-93\n42-46,43-70\n27-82,27-82\n93-95,6-94\n52-55,54-54\n60-61,17-61\n66-66,17-67\n25-80,81-85\n35-92,11-36\n68-92,68-92\n98-99,44-72\n31-36,32-37\n5-94,6-95\n16-76,75-99\n23-76,23-76\n14-66,66-94\n7-37,5-58\n59-62,1-81\n31-60,31-93\n54-54,53-59\n15-17,16-16\n7-96,8-97\n66-71,67-72\n49-50,51-92\n3-32,13-31\n74-76,4-75\n4-87,86-87\n4-89,4-89\n37-69,37-70\n67-89,1-23\n89-89,37-89\n3-12,3-12\n4-84,5-83\n10-92,10-92\n18-92,92-92\n6-82,3-99\n6-7,6-90\n3-91,2-92\n68-69,9-69\n22-23,24-67\n60-93,61-94\n47-56,55-60\n8-75,1-2\n20-29,23-30\n39-43,43-51\n7-66,6-38\n43-64,44-63\n70-91,29-90\n55-56,7-56\n66-85,67-84\n56-58,54-57\n33-76,76-76\n6-8,9-70\n25-33,47-89\n24-38,39-92\n13-46,13-45\n45-46,45-54\n8-37,47-92\n8-66,12-67\n9-58,48-59\n94-97,41-95\n67-95,5-67\n8-80,17-78\n69-74,15-71\n27-54,55-58\n8-90,7-91\n9-96,6-97\n2-99,3-33\n1-2,5-85\n54-68,54-67\n46-91,81-92\n6-45,46-46\n7-78,3-58\n20-83,82-84\n26-82,10-27\n45-72,9-72\n2-80,3-77\n96-97,50-91\n46-62,46-62\n1-18,1-2\n1-99,1-97\n9-97,8-97\n43-45,43-47\n10-87,10-11\n30-31,31-54\n6-10,9-98\n46-95,35-96\n13-85,84-86\n10-85,10-85\n85-97,27-63\n1-95,98-99\n3-35,4-36\n21-84,98-98\n85-85,44-85\n42-84,38-82\n2-52,1-99\n14-86,38-95\n24-30,25-30\n76-93,25-75\n6-98,3-99\n10-66,9-66\n83-85,25-84\n8-9,8-11\n16-81,16-93\n5-66,3-66\n26-64,33-63\n32-42,33-65\n78-85,77-94\n99-99,96-99\n12-90,8-91\n34-35,35-84\n79-96,97-97\n18-93,17-94\n26-93,25-94\n12-67,12-12\n26-97,26-95\n3-41,2-42\n37-44,43-44\n17-64,11-78\n3-94,3-94\n5-53,1-1\n34-78,77-90\n29-66,65-66\n23-40,12-41\n8-19,19-79\n45-84,37-44\n2-87,86-88\n38-79,37-68\n19-30,20-75\n3-78,39-78\n9-84,84-84\n16-59,15-58\n37-83,42-84\n49-88,50-89\n32-97,33-99\n31-76,30-68\n10-66,5-67\n25-97,26-97\n40-84,39-85\n37-52,37-53\n11-13,12-91\n25-64,24-54\n4-69,69-70\n9-97,8-97\n7-43,7-43\n9-68,14-69\n17-90,17-90\n21-88,20-89\n10-57,20-56\n12-88,97-99\n32-98,31-98\n45-64,65-74\n59-60,58-62\n9-41,10-41\n3-9,7-10\n32-51,32-51\n48-97,48-73\n15-79,58-80\n4-9,12-76\n24-77,39-78\n6-82,5-6\n28-50,27-49\n40-72,39-72\n24-37,36-38\n14-96,5-95\n88-95,36-87\n22-85,22-27\n10-98,4-97\n46-89,46-89\n22-94,6-23\n3-43,3-97\n29-42,24-43\n2-92,92-92\n27-98,26-98\n2-87,2-94\n87-89,59-87\n29-29,29-83\n33-33,34-42\n7-85,8-86\n20-20,14-21\n22-22,22-34\n7-68,27-68\n5-54,6-53\n12-91,11-90\n54-81,54-81\n2-95,1-95\n6-55,6-54\n49-92,91-95\n5-90,4-91\n30-84,32-83\n13-61,12-60\n11-98,26-98\n7-76,77-77\n4-37,37-38\n71-81,81-81\n6-58,58-70\n31-83,30-31\n48-56,49-55\n4-98,8-97\n3-69,16-68\n40-41,13-40\n60-60,61-76\n38-38,13-38\n37-97,36-54\n65-65,1-65\n18-18,18-90\n87-87,8-87\n6-98,64-71\n79-90,8-80\n11-44,12-69\n12-90,64-91\n6-75,5-6\n18-90,58-91\n67-92,33-93\n95-96,1-96\n73-91,90-93\n84-94,17-94\n25-62,28-84\n26-27,27-71\n94-98,17-95\n33-96,95-95\n1-2,1-91\n25-28,26-26\n28-85,84-92\n91-96,48-87\n46-93,95-97\n4-98,97-99\n51-63,52-61\n56-89,6-55\n5-93,2-94\n9-93,6-8\n6-53,5-52\n70-92,91-91\n28-98,27-95\n3-45,45-55\n1-55,1-54\n75-82,74-81\n52-91,11-51\n29-82,25-81\n32-71,53-72\n31-72,32-71\n2-99,4-97\n54-79,54-80\n89-96,80-90\n4-4,5-93\n63-65,9-64\n9-58,10-25\n14-72,4-76\n23-58,24-59\n96-99,4-95\n17-17,18-80\n6-29,13-30\n97-99,9-98\n97-99,21-96\n44-46,43-53\n87-89,36-88\n42-89,19-90\n12-12,10-14\n22-77,23-77\n81-83,3-82\n47-47,3-47\n16-79,15-80\n25-30,12-24\n3-94,94-94\n34-64,33-63\n24-85,24-85\n52-54,40-53\n63-88,62-62\n12-75,12-12\n11-63,39-64\n95-95,12-95\n89-91,88-98\n59-83,9-60\n97-99,1-98\n22-98,28-82\n96-97,44-94\n5-88,3-91\n53-85,52-84\n50-88,48-71\n5-95,94-95\n71-72,29-71\n18-96,97-97\n39-41,49-59\n46-72,11-47\n34-49,34-49\n88-90,75-89\n2-94,1-92\n66-96,65-66\n29-82,3-81\n19-86,87-91\n65-68,5-30\n66-85,66-85\n6-87,87-90\n26-88,27-88\n6-19,18-19\n20-83,21-82\n32-56,25-32\n37-77,38-77\n1-36,1-36\n11-59,10-60\n81-92,30-91\n21-77,2-20\n80-82,14-81\n1-43,44-99\n1-2,3-79\n21-92,93-93\n1-77,69-97\n70-90,90-91\n10-44,6-9\n63-90,14-90\n64-75,63-76\n72-95,36-95\n1-2,4-90\n23-50,22-51\n12-81,18-82\n12-13,12-90\n29-83,29-30\n2-97,1-96\n7-96,95-97\n15-96,16-97\n1-1,1-83\n43-53,42-53\n14-26,15-64\n12-94,13-85\n40-40,40-46\n13-25,14-22\n90-94,90-94\n9-91,12-26\n4-96,97-97\n1-8,7-58\n27-92,74-91\n27-90,90-91\n19-99,16-18\n42-87,41-88\n51-85,36-52\n7-94,4-6\n2-43,2-3\n26-92,27-96\n7-87,8-88\n2-97,10-37\n2-90,1-2\n31-78,77-77\n1-97,99-99\n67-90,89-98\n45-51,44-85\n70-97,69-97\n71-94,95-96\n1-82,6-81\n3-77,46-77\n4-90,3-3\n57-71,56-70\n68-98,68-69\n50-70,51-70\n94-97,62-95\n13-94,94-96\n13-92,14-14\n67-99,68-98\n9-9,22-94\n21-91,91-94\n37-78,37-79\n21-84,22-22\n27-39,40-99\n26-86,25-74\n1-4,2-24\n5-50,51-94\n9-10,9-76\n70-73,73-73\n69-87,25-68\n34-85,34-86\n44-64,63-90\n58-59,58-58\n45-98,47-99\n4-6,10-44\n31-82,54-81\n20-58,19-58\n12-68,12-13\n64-64,54-64\n19-23,18-22\n60-67,59-67\n7-7,6-96\n14-37,37-38\n28-88,66-96\n72-90,45-57\n50-97,19-97\n6-29,6-29\n15-43,15-43\n14-82,82-82\n10-64,8-8\n70-82,80-83\n11-97,10-98\n23-77,24-77\n6-84,6-6\n98-99,5-98\n65-65,65-72\n48-73,13-88\n41-65,40-46\n50-81,12-82\n42-44,43-43\n55-89,63-90\n4-77,76-76\n37-92,38-75\n60-62,15-61\n12-95,96-98\n19-92,20-91\n4-56,1-57\n27-94,48-94\n85-88,77-84\n58-59,12-59\n1-65,51-66\n70-72,4-70\n86-86,15-85\n78-99,99-99\n7-8,7-94\n23-88,23-87\n69-77,77-83\n39-75,40-75\n1-94,2-95\n32-79,31-80\n31-43,32-43\n34-37,33-38\n68-92,67-93\n37-85,33-84\n26-59,25-60\n53-76,54-54\n25-94,94-95\n39-72,72-72\n16-17,17-17\n4-98,98-98\n1-48,1-2\n90-92,28-94\n77-77,65-78\n19-60,60-61\n15-98,16-99\n25-92,25-93\n13-85,12-86\n6-57,57-57\n88-94,56-87\n66-83,84-84\n88-90,57-89\n11-11,10-63\n20-46,21-47\n25-31,29-32\n7-94,6-95\n8-69,8-50\n32-86,33-86\n19-98,99-99\n38-58,37-59\n19-38,39-88\n7-88,2-6\n16-93,17-99\n41-95,42-94\n52-54,51-98\n10-89,89-90\n50-95,26-94\n87-88,13-88\n7-90,7-90\n78-96,86-98\n26-98,42-99\n7-75,6-76\n4-5,4-96\n10-62,10-63\n21-95,95-95\n39-98,26-40\n15-16,10-16\n59-60,17-60\n56-80,48-55\n6-22,7-9\n27-82,33-81\n77-87,38-86\n96-97,34-97\n6-60,6-6\n73-77,71-77\n9-88,9-89\n51-76,53-75\n12-89,13-83\n5-99,4-4\n7-96,5-96\n27-43,22-25\n6-24,4-4\n91-91,3-92\n97-98,22-98\n44-77,76-77\n27-49,18-28\n10-93,12-89\n7-72,8-8\n26-70,21-25\n96-97,15-96\n8-92,6-7\n7-62,32-63\n34-74,21-33\n9-94,10-94\n10-74,49-75\n20-20,21-41\n28-78,29-81\n75-85,76-84\n66-66,41-67\n66-66,10-65\n18-95,17-96\n18-94,18-94\n72-72,6-72\n18-77,17-76\n2-98,3-98\n23-87,24-29\n16-62,63-73\n13-88,9-12\n17-34,11-35\n29-82,28-78\n44-87,86-87\n40-60,39-39\n5-5,8-28\n4-86,47-87\n60-89,60-89\n48-87,49-87\n76-91,77-83\n30-57,29-56\n58-96,18-59\n15-63,14-91\n35-82,16-46\n14-14,15-75\n80-81,3-80\n21-22,20-93\n49-86,87-87\n2-2,4-76\n52-78,77-79\n13-57,65-68\n51-67,48-50\n3-85,5-84\n4-97,1-98\n21-31,32-32\n26-94,25-25\n6-37,6-37\n16-98,15-98\n5-86,85-85\n38-98,5-98\n16-18,31-68\n50-63,51-99\n43-58,42-58\n5-93,5-94\n15-76,64-76\n29-68,29-68\n6-30,30-30\n51-52,52-60\n31-55,56-83\n62-88,88-88\n36-75,74-74\n53-72,54-54\n67-86,68-87\n50-83,2-90\n14-94,14-15\n49-66,32-67\n3-81,16-60\n47-86,48-92\n3-99,4-99\n60-94,59-59\n24-49,6-50\n8-8,9-94\n90-93,1-88\n21-72,71-73\n95-95,12-86\n64-64,10-64\n1-99,1-99\n57-67,64-68\n17-18,17-57\n2-71,70-93\n3-86,4-86\n30-80,30-80\n3-77,76-77\n45-55,45-55\n46-77,65-81\n1-97,1-98\n53-68,52-67\n16-33,32-59\n93-95,70-94\n8-85,86-92\n19-90,89-91\n83-93,94-99\n45-45,46-90\n58-68,57-69\n27-34,28-30\n94-95,1-94\n33-79,30-78\n61-61,24-61\n82-83,59-82\n81-83,80-83\n22-68,96-97\n82-82,17-81\n43-53,43-43\n13-62,14-37\n68-85,67-88\n32-88,32-38\n63-70,52-62\n52-52,51-52\n2-57,57-86\n21-88,21-22\n28-29,28-67\n37-90,37-91\n4-94,3-3\n13-76,13-76\n9-23,22-86\n84-84,24-84\n50-85,49-49\n15-52,14-14\n24-53,30-49\n25-65,25-65\n1-87,3-88\n14-41,14-41\n34-97,35-98\n10-80,10-75\n2-67,19-68\n16-94,15-82\n17-54,25-55\n17-66,66-77\n10-92,91-93\n10-90,10-11\n64-66,18-65\n16-37,15-38\n4-83,6-84\n4-82,3-60\n62-74,63-85\n10-62,9-63\n54-93,53-92\n48-59,60-77\n9-73,72-74\n17-24,25-82\n32-73,31-40\n13-43,13-44\n37-38,71-80\n96-99,84-97\n8-58,32-58\n11-57,5-58\n63-98,62-92"
    }

    let arr = input.split('\n');

    let totalSum = 0;
    arr.forEach((pair) => {
        if (is_bonus){
            totalSum += isOverlap(pair.split(',')) ? 1 : 0;
        } else {
            totalSum += isContained(pair.split(',')) ? 1 : 0;

        }
    })

    
    let p = document.createElement('pre');
    p.textContent = totalSum;
  
    let doc = document.getElementById("DayFourComponent");
    doc.append(p);
    }

    
function isContained(pair){
    let first = pair[0].split('-');
    let second = pair[1].split('-');

    first[0] = parseInt(first[0]);
    first[1] = parseInt(first[1]);

    second[0] = parseInt(second[0]);
    second[1] = parseInt(second[1]);

    if (
        (first[0] >= second[0] && first[1] <= second[1])
        || (first[0] <= second[0] && first[1] >= second[1])
    ) { 
        return true;
    }
    return false;
}

function isOverlap(pair){
    let first = pair[0].split('-');
    let second = pair[1].split('-');
    console.log(`${first[0]}-${first[1]}, ${second[0]}-${second[1]}`);

    first[0] = parseInt(first[0]);
    first[1] = parseInt(first[1]);

    second[0] = parseInt(second[0]);
    second[1] = parseInt(second[1]);

    if (
        (first[1] < second[0] && first[1] < second[1])
        || (second[1] < first[0] && second[1] < first[1])
    ) { 
        return false;
    }
    return true;
}

  
  class DayFourComponent extends React.Component{
  
    mounted = false;
  
  
    componentDidMount(){
      if (!this.mounted){
        this.mounted = true;
      
      let doc = document.getElementById("DayFourComponent");
  
      let dayFour_Sample = buttonFactory("Day Four: Sample");
      dayFour_Sample.addEventListener('click', () => dayFour(true, false));
      doc.append(dayFour_Sample);
  
      let dayFour_Input = buttonFactory("Day Four: Input");
      dayFour_Input.addEventListener('click', () => dayFour(false, false));
      doc.append(dayFour_Input);
  
      let dayFour_Sample_Bonus = buttonFactory("Day Four: Sample (Bonus)");
      dayFour_Sample_Bonus.addEventListener('click', () => dayFour(true, true));
      doc.append(dayFour_Sample_Bonus);
  
  
      let dayFour_Input_Bonus = buttonFactory("Day Four: Input (Bonus)");
      dayFour_Input_Bonus.addEventListener('click', () => dayFour(false, true));
      doc.append(dayFour_Input_Bonus);
    }
    }
  
    render(){
      return(
      <div id="DayFourComponent"><h2>Day Four:</h2></div>
      )
    }
  }

  export {DayFourComponent};